"use strict";(self.webpackChunkcards=self.webpackChunkcards||[]).push([[818],{5818:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var s=t(2791),i=t(3239),l=t(4554),a=t(9434),r=t(6871),c=t(6121),d=t(3322),o=t(4942),u=t(1413),x=t(5987),h=t(885),f=t(5860),p=t(7317),g=t(3400),j=t(890),Z=t(6151),v=t(7630),m=t(1838),C=t(9293),w=t(4787),y=t(7247),k=t(1286),P=t(1897),R=t(3767),b=t(184),I=function(e){var n=e.blocked,t=e.showUpdateModal,s=e.showDeleteModal,i=e.closeTooltip,l=(0,r.s0)(),c=(0,a.v9)(d.iR.selectCardsPack_id);return(0,b.jsxs)(R.Z,{direction:"column",alignItems:"flex-start",justifyContent:"center",spacing:1,children:[(0,b.jsx)(g.Z,{size:"small",onClick:function(){i(),l("/learn/".concat(c))},disabled:n,children:(0,b.jsx)(P.Z,{fontSize:"small"})}),(0,b.jsx)(g.Z,{size:"small",onClick:function(){i(),t()},children:(0,b.jsx)(k.Z,{fontSize:"small"})}),(0,b.jsx)(g.Z,{size:"small",onClick:function(){i(),s()},children:(0,b.jsx)(y.Z,{fontSize:"small"})})]})},_=["className"],S=function(e){var n,t=e.cardsPackId,i=e.length,o=(0,c.o)(d.o0).setModalOpen,u=(0,r.s0)(),x=(0,a.v9)(d.iR.selectPackUserId),v=null===(n=(0,a.v9)(d.hg.selectProfile))||void 0===n?void 0:n._id,m=(0,a.v9)(d.iR.selectPackName),C=(0,a.v9)(d.LL.selectStatus),y=(0,a.v9)(d.iR.selectPackDeckCover),k=(0,a.v9)(d.iR.selectIsLoading),P=(0,a.v9)(d.yK.selectCardPacks).find((function(e){return e._id===t})),R=null===P||void 0===P?void 0:P.private,_=x===v,S=(0,s.useState)(!1),A=(0,h.Z)(S,2),q=A[0],D=A[1],T=function(){return D(!1)};return(0,b.jsxs)(l.Z,{style:{marginBottom:"10px"},children:[(0,b.jsx)(l.Z,{sx:{display:"flex",justifyContent:"start",alignItems:"center"},children:(0,b.jsx)(g.Z,{size:"small",onClick:function(){return u(-1)},children:(0,b.jsx)(p.Z,{fontSize:"small"})})}),(0,b.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)(l.Z,{sx:{display:"flex"},children:[(0,b.jsx)(j.Z,{variant:"h6",children:m}),_&&!k&&(0,b.jsx)(z,{title:(0,b.jsx)(I,{blocked:!_||0===i,showUpdateModal:function(){o({type:w.r.UPDATE_PACK,data:{_id:t,name:m,deckCover:y,isPrivate:R}})},showDeleteModal:function(){o({type:w.r.DELETE_PACK,data:{id:t,title:m||""}})},closeTooltip:T}),open:q,onClose:T,onOpen:function(){return D(!0)},placement:"right",children:(0,b.jsx)(g.Z,{size:"small",children:(0,b.jsx)(f.Z,{})})})]}),_?(0,b.jsx)(Z.Z,{variant:"contained",onClick:function(){o({type:w.r.ADD_CARD,data:{cardsPack_id:t,question:"",answer:""}})},disabled:"loading"===C,children:"Add new card"}):(0,b.jsx)(Z.Z,{variant:"contained",onClick:function(){return u("/learn/".concat(t))},disabled:0===i||"loading"===C,children:"Learn pack"})]}),y&&(0,b.jsx)(l.Z,{sx:{display:"flex",justifyContent:"start",alignItems:"center"},children:(0,b.jsx)("img",{src:y,alt:"pack cover",style:{width:100,height:100}})})]})},z=(0,v.ZP)((function(e){var n=e.className,t=(0,x.Z)(e,_);return(0,b.jsx)(m.Z,(0,u.Z)((0,u.Z)({},t),{},{classes:{popper:n}}))}))((function(e){var n=e.theme;return(0,o.Z)({},"& .".concat(C.Z.tooltip),{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:n.typography.pxToRem(12),border:"1px solid #dadde9"})})),A=t(3232),q=function(){var e=(0,c.o)(d.b9),n=e.setCardQuestion,t=e.setCardAnswer,s=(0,a.v9)(d.iR.selectCardAnswer),i=(0,a.v9)(d.iR.selectCardQuestion);return(0,b.jsxs)(R.Z,{direction:"row",spacing:4,style:{marginBottom:"30px"},children:[(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(j.Z,{variant:"body2",children:"Search by question:"}),(0,b.jsx)(A.ol,{title:i,setTitle:function(e){n(e)}})]}),(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(j.Z,{variant:"body2",children:"Search by answer:"}),(0,b.jsx)(A.ol,{title:s,setTitle:function(e){t(e)}})]})]})},D=t(9281),T=t(703),W=t(9836),E=t(3382),L=t(6812),U=t(5855),M=t(3994),O=t(8316),Q=function(e){var n,t=e.card,s=(0,c.o)(d.o0).setModalOpen,i=null===(n=(0,a.v9)(d.hg.selectProfile))||void 0===n?void 0:n._id;return(0,b.jsxs)(U.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},hover:!0,children:[(0,b.jsxs)(M.Z,{component:"th",scope:"row",align:"left",style:{width:"261px",overflowWrap:"anywhere"},children:[t.questionImg&&(0,b.jsx)("img",{src:t.questionImg,alt:"question cover",style:{maxWidth:150,maxHeight:150}}),""!==t.question&&"no question"!==t.question&&(0,b.jsx)(j.Z,{children:t.question})]}),(0,b.jsxs)(M.Z,{component:"th",scope:"row",align:"left",style:{width:"261px",overflowWrap:"anywhere"},children:[t.answerImg&&(0,b.jsx)("img",{src:t.answerImg,alt:"answer cover",style:{maxWidth:150,maxHeight:150}}),""!==t.answer&&"no answer"!==t.answer&&(0,b.jsx)(j.Z,{children:t.answer})]}),(0,b.jsx)(M.Z,{align:"left",children:new Date(t.updated).toLocaleString()}),(0,b.jsx)(M.Z,{align:"left",children:(0,b.jsx)(O.Z,{name:"read-only",value:t.grade,readOnly:!0,size:"small",precision:.5})}),t.user_id===i&&(0,b.jsx)(M.Z,{align:"left",style:{width:"70px"},children:(0,b.jsxs)(R.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,b.jsx)(g.Z,{"aria-label":"delete",size:"small",onClick:function(){s({type:w.r.UPDATE_CARD,data:{_id:t._id,question:t.question,answer:t.answer,questionImg:t.questionImg,answerImg:t.answerImg}})},children:(0,b.jsx)(k.Z,{fontSize:"small"})}),(0,b.jsx)(g.Z,{"aria-label":"delete",size:"small",onClick:function(){s({type:w.r.DELETE_CARD,data:{id:t._id,title:t.question}})},children:(0,b.jsx)(y.Z,{fontSize:"small"})})]})})]},t._id)},K=t(6890),N=t(720),B=t(5573),H=function(){var e,n=(0,c.o)(d.b9).setSortCards,t=(0,s.useState)("asc"),i=(0,h.Z)(t,2),r=i[0],o=i[1],u=(0,s.useState)("updated"),x=(0,h.Z)(u,2),f=x[0],p=x[1],g=(0,a.v9)(d.iR.selectPackUserId),j=null===(e=(0,a.v9)(d.hg.selectProfile))||void 0===e?void 0:e._id,Z=function(e,t){var s=("asc"===e?0:1)+t;o(e),p(t),n(s)};return(0,b.jsx)(K.Z,{children:(0,b.jsxs)(U.Z,{children:[(0,b.jsx)(M.Z,{align:"left",style:{minWidth:"261px",maxWidth:"268px"},children:"Question"}),(0,b.jsx)(M.Z,{align:"left",style:{minWidth:"261px",maxWidth:"268px"},children:"Answer"}),(0,b.jsx)(M.Z,{align:"left",style:{width:"150px"},children:(0,b.jsxs)(N.Z,{active:"updated"===f,direction:"updated"===f?r:"asc",onClick:function(){return Z("asc"===r?"desc":"asc","updated")},children:["Last Updated","updated"===f?(0,b.jsx)(l.Z,{component:"span",sx:B.Z,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})}),(0,b.jsx)(M.Z,{align:"left",style:{width:"100px"},children:(0,b.jsxs)(N.Z,{active:"grade"===f,direction:"grade"===f?r:"asc",onClick:function(){return Z("asc"===r?"desc":"asc","grade")},children:["Grade","grade"===f?(0,b.jsx)(l.Z,{component:"span",sx:B.Z,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})}),j===g&&(0,b.jsx)(M.Z,{align:"left",style:{minWidth:"68px",maxWidth:"68px"},children:"Actions"})]})})},G=function(e){var n=e.length,t=(0,c.o)(d.b9),s=t.setCurrentPageCards,i=t.setPageCountCards,r=(0,a.v9)(d.iR.selectPage),o=(0,a.v9)(d.iR.selectPageCount),u=(0,a.v9)(d.iR.selectCardsTotalCount),x=(0,a.v9)(d.iR.selectIsLoading),h=(0,a.v9)(d.iR.selectCards);return(0,b.jsxs)(D.Z,{component:T.Z,style:{overflowX:"scroll"},children:[(0,b.jsxs)(W.Z,{style:{minWidth:"900px"},children:[(0,b.jsx)(H,{}),0!==n&&(0,b.jsx)(E.Z,{children:h.map((function(e){return(0,b.jsx)(Q,{card:e},e._id)}))})]}),0!==n&&(0,b.jsx)(L.Z,{rowsPerPageOptions:[5,10,20],component:"div",count:u,rowsPerPage:o,page:r-1,onPageChange:function(e,n){s(n+1)},onRowsPerPageChange:function(e){i(+e.target.value)}}),0===n&&!x&&(0,b.jsx)(l.Z,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"40vh"},children:(0,b.jsx)(j.Z,{style:{opacity:"0.6"},children:"This pack is empty. Click add new card to fill this pack"})})]})},X=function(){var e=(0,c.o)(d.b9),n=e.getCards,t=e.removeCardsData,o=e.setCardsPackId,u=(0,a.v9)(d.iR.selectCards),x=(0,a.v9)(d.iR.selectPage),h=(0,a.v9)(d.iR.selectPageCount),f=(0,a.v9)(d.iR.selectSortCards),p=(0,a.v9)(d.iR.selectCardAnswer),g=(0,a.v9)(d.iR.selectCardQuestion),j=(0,a.v9)(d.iR.selectCardsPack_id),Z=(0,r.UO)().id;return(0,s.useEffect)((function(){if(Z&&!j)return o(Z),function(){t()}}),[]),(0,s.useEffect)((function(){null!=Z&&n(Z)}),[x,h,f,p,g]),Z?(0,b.jsxs)(l.Z,{style:{width:"100%"},children:[(0,b.jsx)(S,{cardsPackId:Z,length:u.length}),(0,b.jsx)(q,{}),(0,b.jsx)(G,{length:u.length})]}):(0,b.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:(0,b.jsx)(i.Z,{})})}}}]);
//# sourceMappingURL=818.ca85db35.chunk.js.map